extends ./partial/layout.pug
block linkcss
    link(rel="stylesheet", href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css")
    link(rel="stylesheet", href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css")
    link(rel="stylesheet", href="/css/permissionConsumer.css")
    link(rel="stylesheet", href="/css/pageCommon.css")
block content
    .container.py-5
        h2.mb-5.text-center.text-primary
            i.fas.fa-user-shield.me-2
            | Consumer Site Access Management

        .card.card-custom.mx-auto
            .card-body.p-4
                .mb-4
                    label.form-label.fw-bold.text-dark(for="consumerSelect")
                        i.fas.fa-user-tie.me-2
                        | Select Consumer:
                    select.form-select#consumerSelect
                       
                hr.my-4

                .row.transfer-container.p-3.g-0
                    .col-md-5.p-2
                        h6.text-secondary.fw-bold.text-center.mb-2 Available Sites (Sites not yet assigned)
                        .input-group.mb-2
                            span.input-group-text
                                i.fas.fa-search
                            input.form-control(type="text", placeholder="Search available sites...", id="searchAvailable")
                        ul.site-list#availableSitesList

                    .col-md-2.control-buttons.p-2
                        button.btn.btn-primary#assignBtn(type="button", disabled, title="Assign Selected Sites")
                            i.fas.fa-chevron-right
                        button.btn.btn-warning.text-white#unassignBtn(type="button", disabled, title="Unassign Selected Sites")
                            i.fas.fa-chevron-left

                    .col-md-5.p-2
                        h6.text-primary.fw-bold.text-center.mb-2 Assigned Sites (Sites managed by staff)
                        .input-group.mb-2
                            span.input-group-text
                                i.fas.fa-search
                            input.form-control(type="text", placeholder="Search assigned sites...", id="searchAssigned")
                        ul.site-list#assignedSitesList

                .d-grid.gap-2.d-md-flex.justify-content-md-center.mt-4
                    button.btn.btn-success.btn-lg#updateAccessBtn(type="button", disabled)
                        i.fas.fa-save.me-2
                        | Save Changes


block linkcriptbody
    script(src="https://code.jquery.com/jquery-3.7.1.min.js")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    script(src="/js/hostname.js")
    script(src="/js/permissionConsumer.js")
    script(src="/js/util.js") 