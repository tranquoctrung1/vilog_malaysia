extends ./partial/layout.pug
block linkcss
    link(href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet")
    link(rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css")
    link(href="https://cdn.datatables.net/2.0.8/css/dataTables.bootstrap5.min.css" rel="stylesheet")
    link(rel="stylesheet", href="/css/viewUser.css")
    link(rel="stylesheet", href="/css/pageCommon.css")
block content
    .container-fluid.py-4
        h2.mb-4.text-primary
            i.fas.fa-users-gear.me-2
            | User Management

        .card.card-custom.p-4
            h5.card-title.text-primary.mb-3
                i.fas.fa-table.me-2
                | User List
            .table-responsive
                table#userTable.table.table-striped.table-hover.w-100
                    thead.table-light
                        tr
                            th
                                i.fas.fa-id-card
                                | Username
                            th
                                i.fas.fa-envelope
                                | Email
                            th
                                i.fas.fa-shield-alt
                                | Role
                            th
                                i.fas.fa-user-tie
                                | Employee Name
                            th
                                i.fas.fa-user-tag
                                | Customer Name
                            th.dt-center
                                i.fas.fa-sitemap
                                | Managed Sites
                            th
                                i.fas.fa-wrench
                                | Actions
                    tbody#bodyTable

    // Modal for Site List
    #siteListModal.modal.fade(tabindex="-1" aria-labelledby="siteListModalLabel" aria-hidden="true")
        .modal-dialog.modal-xl
            .modal-content
                .modal-header.bg-primary.text-white
                    h5#siteListModalLabel.modal-title
                        i.fas.fa-sitemap.me-2
                        | Managed Sites for 
                        span#modalUsername
                        |  (
                        span#modalSiteCount
                        |  sites)
                    button.btn-close.btn-close-white(type="button" data-bs-dismiss="modal" aria-label="Close")
                .modal-body
                    .table-responsive
                        table#siteListTable.table.table-sm.table-hover
                            thead
                                tr
                                    th SiteId
                                    th Location
                                    th Status
                                    th Last Data Time
                                    th Alarm
                            tbody#siteListContainer
                .modal-footer
                    button.btn.btn-secondary(type="button" data-bs-dismiss="modal") Close

block linkcriptbody
    script(src="https://code.jquery.com/jquery-3.7.1.min.js")
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js")
    script(src="https://cdn.datatables.net/2.0.8/js/dataTables.min.js")
    script(src="https://cdn.datatables.net/2.0.8/js/dataTables.bootstrap5.min.js")
    script(src="https://cdn.datatables.net/buttons/3.0.2/js/dataTables.buttons.min.js")
    script(src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.bootstrap5.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/pdfmake.min.js")
    script(src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.7/vfs_fonts.js")
    script(src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.html5.min.js")
    script(src="https://cdn.datatables.net/buttons/3.0.2/js/buttons.print.min.js")
    script(src="/js/hostname.js")
    script(src="/js/viewUser.js")
    script(src="/js/util.js") 